- 문제: 내 정보 탭과 온보딩 화면에서 사상의학 테스트 결과 도출과 닉네임 중복 검사 로직이 겹치는 상황
- 고민: 공통 service로 합칠지 각각 따로 만들고, 나중에 합칠지 고민
- 해결: 나중에 MVP를 모두 완성한 후에도 로직이 완전히 똑같으면 리팩토링하여 합치자고 결론내림
---
### **📝 트러블 슈팅: 비즈니스 로직 중복과 추상화 시점에 대한 의사결정**

#### **1. 배경 및 문제 (Problem)**

- **현상:** '온보딩(Onboarding)' 진입 시점과 '내 정보(My Info)' 수정 시점에서 **사상의학 결과 도출** 및 **닉네임 중복 검사** 로직이 동일하게 필요함.
    
- **문제점:** 서로 다른 도메인(가입 프로세스 vs 회원 정보 관리)에서 동일한 코드가 중복 발생하여, 코드 재사용성과 유지보수 방향성에 대한 고민 발생.
    

#### **2. 고민 및 접근 (Consideration)**

- **공통화(Abstraction) vs 분리(Isolation):**
    
    - **공통화:** `CommonService`로 추출 시 중복은 제거되나, '가입(Create)'과 '수정(Update)'이라는 **서로 다른 문맥(Context)**이 강하게 결합(Coupling)될 위험 존재.
        
    - **분리:** 코드가 중복되지만, 각 기능의 요구사항이 독립적으로 변경될 가능성을 열어두고 개발 속도를 확보할 수 있음.
        
- **성급한 추상화의 위험성:** "성급한 추상화는 복사-붙여넣기보다 나쁘다"는 원칙을 상기하며, 현재 시점에서 공통화가 필수적인지 검토.
    

#### **3. 해결 및 결과 (Solution & Result)**

- **전략적 중복 허용 (Strategic Duplication):** MVP 완성 전까지는 물리적으로 코드가 중복되더라도, 각 도메인(`MemberService`, `OnboardingService`)에 개별 구현하기로 결정.
    
- **WET(Write Everything Twice) 방식 적용:** "세 번 이상 중복될 때 리팩토링한다(Rule of Three)"는 원칙에 따라, 섣불리 합치지 않고 TODO 주석으로 관리.
    
- **성과:** 불필요한 의존성 고민 없이 **기능 구현 속도(Velocity)**를 높였으며, 향후 '가입 시 정책'과 '수정 시 정책'이 달라질 경우에도 유연하게 대처 가능한 구조 확보.