### 공통 예외 정책

- 네트워크 오류: “네트워크 연결 상태를 확인해주세요” 메시지 출력

## 1.가입 화면

- 1.간편 회원가입/로그인(Google, 카카오)
    - 기능 상세: Google 및 카카오 계정 연동을 위한 버튼을 제공합니다. 사용자가 버튼을 누르면 해당 플랫폼의 인증 페이지를 호출하여 로그인 토큰을 받아오며, 신규 사용자의 경우 회원가입 절차로, 기존 사용자의 경우 로그인 절차로 연결합니다.
    - 정책
        - Google/Kakao 공식 OAuth 2.0 인증 표준을 준수해야 함
        - 인증 후 반환된 소셜 플랫폼의 고유 식별자(Provider ID)가 DB에 존재하면 로그인, 존재하지 않으면 회원가입(정보 입력 화면 이동)으로 자동 분기 처리
        - 회원가입 시 소셜 계정의 기본 정보(이메일, 프로필 이미지)는 자동으로 불러와 임시 저장
    - 정상 흐름
        - 사용자가 로그인 화면에서 [Google] 또는 [카카오] 로그인 버튼 터치
        - 해당 플랫폼의 인증 및 정보 제공 동의 화면으로 이동하여 승인 완료
        - (신규 회원인 경우) “회원가입을 진행합니다” 메시지 출력 후 정보 입력 화면으로 이동
        - (기존 회원인 경우) “로그인되었습니다” 메시지 출력 후 메인 지도 화면으로 이동
    - 예외 흐름
        - 사용자 취소: 인증 화면에서 ‘취소’하거나 ‘뒤로 가기’시 “로그인이 취소되었습니다.” 메시지 출력
        - 인증 만료/실패: 유효하지 않은 토큰이거나 인증 시간 초과시 “소셜 인증에 실패했습니다.” 메시지 출력

## 1.2 정보입력 이전 화면

- 언어 선택
    - 기능 상세: 앱 내의 메뉴 텍스트와 AI와의 대화에서 사용할 주 언어를 선택할 수 있는 설정 기능을 제공합니다.
    - 정책
        - 한국어와 영어 지원
        - 미선택시 정보 입력 화면으로 이동 불가
    - 정상흐름
        - 한국어와 영어중 하나를 선택
        - ‘다음’ 버튼 누르면 언어에 맞는 입력화면으로 이동
    - 예외흐름
        - 언어 미선택: ‘언어를 선택해주세요’ 메시지 출력 후 ‘확인’버튼을 누르면 언어 선택 화면으로 돌아감

## 2. 정보 입력 화면

### 공통 예외 정책

- 공통 입력 데이터 오류: “잘못 입력한 데이터가 있습니다. 다시 확인해주세요” 메시지 출력
- 1. 닉네임 입력
    
    - 기능 상세: 서비스 내에서 사용자를 식별하고 호칭할 닉네임을 텍스트로 입력받는 입력 필드를 제공합니다.
    - 정책
        - 사용자가 ‘중복검사’ 버튼을 누를 때 DB 조회를 통해 중복 여부 검사
        - 한글,영문,숫자만 입력 가능(특수문자,공백 불가)
        - 최소 2글자~최대 10자 제한
        - 중복된 닉네임 사용 불가
        - 욕설 등 금칙어 포함 시 사용 불가
    - 정상흐름
        - 사용자가 닉네임 입력 터치
        - 키보드로 “가자곰123”입력
        - 중복확인 버튼 클릭
        - “사용할 수 있는 아이디입니다.” 메시지 출력
    - 예외 흐름
        - 중복 시: “사용할 수 없는 아이디입니다.” 메시지 출력
        - 글자 수 미달 및 초과: “2글자 - 10글자 사이로 입력해주세요” 메시지 출력
- 2. 생년월일 입력
    
    - 기능 상세: 맞춤형 여행지 추천 알고리즘에 활용하기 위해 사용자의 생년월일을 선택하거나 입력할 수 있는 날짜 입력 도구를 제공합니다.
    - 정책
        - 생년월일 6자리 텍스트 입력
        - 현재 날짜보다 미래의 생년월일 선택 불가
    - 정상흐름
        - 사용자가 생년월일을 모두 선택 완료
        - 모든 정보 입력 후 ‘가입 완료’ 버튼 터치 시 메인 지도 화면으로 이동
    - 예외 흐름
        - 공통 예외 정책
- 3. MBTI 입력
    
    - 기능 상세: 사용자의 성격 유형을 파악하기 MBTI정보를 텍스트로 입력받는 입력 필드를 제공합니다.
    - 정책
        - 텍스트로 MBTI 입력
        - MBTI와 동반자 기반으로 경로 추천
    - 정상흐름
        - 사용자가 MBTI 유형을 모두 선택 완료
        - 모든 정보 입력 후 ‘가입 완료’ 버튼 터치 시 메인 지도 화면으로 이동
    - 예외 흐름
        - 공통 예외 정책
- 4.프로필 사진 등록
    - 상세 설명: 사진 촬영과 건너뛰기
- 5.동반자 입력
    - 기능 상세: 여행을 누구와 함께 다닐지 설정하기 위해 동반자 형태를 입력받는 기능을 제공합니다.
    - 정책
        - MBTI와 동반자 기반으로 경로 추천
        - 가족,연인,친구로 구분(혼자올때는)
    - 정상흐름
        - 사용자가 동반자 중 하나를 선택
        - 모든 정보 입력 후 ‘가입 완료’버튼 터시 시 메인 지도 화면으로 이동
    - 예외흐름
        - 공통 예외 흐름
- 6. 사상의학 조사 시작
    
    - 기능 상세: 사상의학 체질 진단을 위한 별도의 웹뷰로 화면을 전환하는 버튼 기능을 제공합니다.
    - 정책
        - 진단을 하지 않으면 가입 불가
        - 별도의 탭이 아닌 현재 탭에서 설문 화면으로 이동
    - 정상 흐름
        - 사용자가 ‘사상의학 테스트’ 버튼 터치
        - 설문을 완료하고 사용자의 체질 정보를 자동으로 입력
        - 모든 정보 입력 후 ‘가입 완료’ 버튼 터치 시 메인 지도 화면으로 이동
    - 예외 흐름
        - 공통 예외 정책
- 7. 사상의학 설문
    
    - 기능 상세: 체형, 소화 기능, 성격 등 사상의학 진단에 필요한 문항들을 순차적으로 제시하고 사용자의 답변을 수집하여 태양인, 태음인, 소양인, 소음인 중 하나의 결과를 도출하는 기능을 제공합니다.
    - 정책
        - 향후 결정
    - 정상흐름
        - 사용자가 설문의 선택지를 모두 선택하고 ‘결과 보기’ 버튼을 터치
        - 사용자의 체질정보가 표시되고 ‘돌아가기’ 버튼을 터치
        - 사상의학 테스트 항목에 사용자의 체질 정보 자동 입력
        - 모든 정보 입력 후 ‘가입 완료’ 버튼 터치 시 메인 지도 화면으로 이동
    - 예외 흐름
        - 테스트 중 웹뷰를 나감: 테스트 정보를 모두 삭제함
        - 선택하지 않은 질문 존재: ‘선택하지 않은 질문이 있습니다.’ 메시지 출력/하나라도 선택하지 않으면 ‘결과 보기’ 버튼이 활성화 되지 않음 중 택1
- 8.페르소나 선택
    - 기능 상세: 여행을 함께할 AI 캐릭터의 목록을 보여주고, 사용자가 원하는 캐릭터를 선택하여 저장하는 기능을 제공합니다.
    - 정책
        - 페르소나 웹뷰에서 선택
        - 페르소나는 4가지중 선택
        - 페르소나 선택화면에서 움직임
    - 정상흐름
        - 사용자가 ‘페르소나 선택’버튼을 터치하여 페르소나 선택 웹뷰로 이동
        - 페르소나를 선택 후 ‘완료’버튼 터치
        - 선택한 페르소나 정보가 ‘페르소나 선택’ 항목에 자동 저장
        - 모든 정보 입력 후 ‘가입 완료’ 버튼 터치 시 메인 지도 화면으로 이동
    - 예외 흐름
        - 페르소나 미선택: ‘페르소나를 선택해주세요’메시지 출력/페르소나를 선택하지 않으면 ‘선택하기’버튼이 활성화 되지 않음 중 택1
- 9.가입 완료
    - 기능 상세: 앞선 단계에서 입력된 모든 사용자 프로필 정보를 최종적으로 확인하고 데이터베이스에 저장한 뒤 메인 화면으로 이동시키는 버튼 기능을 제공합니다.
    - 정책
        - 모든 정보가 정책대로 입력되어야 최종 가입 완료 가능
    - 정상 흐름
        - 모든 정보를 정책대로 입력한 후 ‘가입완료’ 버튼 터치
        - 메인 지도 화면으로 이동하며 정상 가입
    - 예외 흐름
        - 각 항목의 정책대로 입력이 되어있지 않음: 항목에 맞는 오류 메시지 출력 후 입력했던 정보가 유지된 채로 입력 화면으로 되돌아감

## 3. 메인 화면(지도)

- 1.네이티브 지도 연동
    - 기능 상세: Google Maps API를 호출하여 화면 전체에 지도를 렌더링합니다. 사용자의 터치 제스처를 통한 지도의 이동(Panning), 확대 및 축소(Zoom In/Out) 기능을 제공합니다.
    - 정책
        - 지도가 띄워지지 않아도 3,6은 가능??? or 지도 안 띄워지면 모든 기능 불가??
        - Google Maps API 이용
        - 위치 권한 허용: 현재 위치 중심
        - 위치 권한 거부: xxxx를 기본 중심 좌표로 지도 로딩
    - 정상흐름
        - 사용자가 메인 화면에 진입
        - API를 이용해 지도 표시
    - 예외 흐름
- 2.현재 위치 표시
    - 기능 상세: 디바이스의 GPS 센서 데이터를 수신하여 지도상에 사용자의 현재 위치를 실시간으로 나타내는 마커(파란 점)를 표시합니다. 위치가 변경될 때마다 마커의 위치를 갱신합니다.
    - 정책
        - GPS가 켜져있을 때만 동작
    - 정상흐름
        - GPS가 켜져있을때 메인 화면에 접속
        - 현재 위치를 표시
    - 예외 흐름
        - 네트워크 오류: 메시지 출력 or 현재 위치만 띄우지 않음??
        - 지도 미표시: “오류로 인해 지도를 표시 할 수 없습니다.” 메시지 출력
- 3.페르소나 표시
    - 기능 상세: 사용자가 선택한 AI 페르소나 이미지를 지도 화면의 지정된 위치(좌측 하단 등)에 항상 떠 있는 오버레이 버튼 형태로 표시합니다.
    - 정책
        - 메인 화면이 표시 될 때, 항상 표시
        - 페르소나 아이콘 클릭시 채팅 화면으로 전환
    - 정상흐름
        - 메인 화면 진입
        - 아이콘 형태로 항상 표시
    - 예외 흐름
        - 채팅 화면으로 이동 불가: “채팅 화면으로 이동 할 수 없습니다.” 메시지 출력
- 4.해시태그(관광지, 음식점, 카페) ON/OFF
    - 기능 상세: 지도 상단에 카테고리별 필터 버튼을 제공합니다. 사용자가 특정 해시태그 버튼을 누르면 해당 카테고리에 속하는 장소 마커만 지도에 표시하고, 다시 누르면 숨기는 필터링 기능을 제공합니다.
    - 정책
        - 관광지: MBTI 100% or MBTI 50%,일반 50%??
        - 음식점: 체질에 맞는 식당 50%,일반적인 추천 50%
        - 카페: 주변의 모든 카페 표시
        - 한번에 태그 하나만 선택
    - 정상흐름
        - 관광지/음식점/카페 중1 태그 터치
        - 주변 관광지/음식점/카페 마커 올라옴
    - 예외 흐름
        - 주변에 장소가 없을 때: “주변에 관광지/음식점/카페가 없습니다” 메시지 출력
- 5.지도에 표시한 추천 여행 코스 ON/OFF
    - 기능 상세: AI가 생성한 하루 단위의 여행 경로와 경유지 마커를 지도 위에 아이콘으로 시각화하여 보여주거나, 화면 복잡도를 줄이기 위해 숨길 수 있는 토글 기능을 제공합니다.
    - 정책
        - 마커로만 추천 코스 제공
        - 마커 클릭하면 정보 제공?? or 여행 코스 탭으로 이동??
    - 정상 흐름
        - 메인 화면 진입
        - 여행 코스
            - ON: 마커로 여행지가 표시
            - OFF: 마커 사라짐
    - 예외 흐름
- 6.페르소나와 함께 인증샷 찍기
    - 기능 상세: 웹 브라우저의 카메라 권한을 호출하여 실시간 카메라 화면을 띄우고, 그 위에 AI 페르소나 캐릭터 이미지를 합성하여 함께 사진을 찍고 저장할 수 있는 기능을 제공합니다.
    - 정책
    - 정상흐름
        - ‘인증샷 찍기’버튼 터치
        - 웹 브라우저에서 카메라 켜짐
        - 페르소나와 함께 인증 샷
    - 예외흐름
        - 오버레이가 띄워지지 않음: “오류로 인해 캐릭터를 불러올 수 없습니다” 메시지 출력 후 메인으로 되돌아감
        - 카메라 화면 + 3D 캐릭터 저장 불가: “오류로 인해 인증샷을 저장할 수 없습니다” 메시지 출력 후 메인 화면으로 되돌아감
- 7.간략한 장소 정보 제공
    - 기능 상세: 지도 위에 표시된 장소 마커를 터치했을 때, 해당 장소의 이름, 평점, 대표 사진 등 핵심 정보를 담은 정보창(Info Window)이나 바텀 시트를 띄우는 기능을 제공합니다.
    - 정책
        - 마커를 터치하면 작은 블록 형태로 정보 제공
        - 어떤 정보 넣을 것인지
    - 정상흐름
        - 마커를 터치
        - 정보창 표시
    - 예외흐름
- 8.마커에 내 아바타 넣기
    - 기능 상세: 지도상의 추천 장소 마커 이미지를 기본 핀 이미지 대신 사용자가 등록한 얼굴 아바타 이미지로 변경하여 표시하는 옵션 기능을 제공합니다.
    - **정책**
        - 사용자가 아바타 이미지를 등록한 상태여야 활성화 가능
        - MyInfo에서 ON/OFF 토글 형태로 옵션 제공
        - 아바타 이미지는 원형으로 크롭(Crop)하여 마커 프레임 안에 표시
    - **정상 흐름**
        1. 사용자가 MyInfo에서 '아바타 마커 표시' 옵션을 활성화(ON)
        2. 지도를 다시 로딩하거나 마커를 갱신
        3. 추천 장소 마커가 사용자 아바타 얼굴이 들어간 핀으로 변경되어 표시
    - **예외 흐름**
        - **아바타 미등록 시:** 토글 터치 시 “아바타를 먼저 등록해주세요.” 메시지 출력 후 프로필 설정 화면으로 이동 유도
        - **이미지 로딩 실패:** “아바타 이미지를 불러올 수 없습니다.” 메시지 출력 후 기본 핀 이미지로 대체 표시
- 9.찜 기능
    - 기능 상세: 장소 정보창이나 상세 화면에서 하트 아이콘을 터치하여 해당 장소를 사용자의 관심 목록에 추가하거나 삭제하는 기능을 제공합니다.
    - **정책**
        - 찜한 장소는 MyInfo의 '찜한 장소 목록'과 동기화
        - 토글 방식(누르면 찜, 다시 누르면 해제)으로 동작
    - **정상 흐름**
        1. 사용자가 장소 정보창의 '빈 하트' 아이콘 터치
        2. 하트가 '채워진 하트'로 변경되며 “찜 목록에 추가되었습니다.” 토스트 메시지 출력
        3. 다시 터치 시 '빈 하트'로 변경되며 “찜 목록에서 삭제되었습니다.” 메시지 출력
    - **예외 흐름**
        - **네트워크 오류:** “네트워크 오류로 요청을 처리하지 못했습니다.” 메시지 출력 후 하트 상태 원상 복구

## 4. 채팅 화면

- 1.채팅창 열기/닫기
    - 기능 상세: 메인 화면의 페르소나 아이콘을 터치하면 하단에서 채팅창이 올라오고(Slide-up), 상단의 핸들을 아래로 드래그하면 채팅창이 내려가는(Slide-down) UI 인터랙션 기능을 제공합니다.
    - **정책**
        - 채팅창은 전체 화면이 아닌 지도를 일부 가리는 바텀 시트(Bottom Sheet) 형태 (예: 화면 높이의 50%~80%)
        - 지도 영역 터치 시 채팅창이 닫히지 않도록 설정(드래그로만 닫기)하거나, 기획 의도에 따라 지도 터치 시 닫히도록 설정
    - **정상 흐름**
        1. 메인 화면에서 페르소나 아이콘 터치
        2. 채팅창이 부드럽게 아래에서 위로 올라옴
        3. 채팅창 상단 핸들바를 잡고 아래로 드래그
        4. 채팅창이 아래로 내려가며 사라짐
    - **예외 흐름**
        - **UI 렌더링 오류:** 채팅창이 올라오지 않을 경우 “일시적인 오류입니다. 앱을 다시 실행해주세요.” 메시지 출력
- 2.텍스트 메시지 입력
    - 기능 상세: 사용자가 AI에게 질문이나 요청 사항을 텍스트로 작성할 수 있는 입력 필드를 제공합니다.
    - **정책**
        - 최대 입력 글자 수 제한 (예: 500자)
        - 입력창 터치 시 키보드 활성화 및 채팅창 높이 자동 조절(키보드 위로 올라감)
    - **정상 흐름**
        1. 하단 입력 필드 터치
        2. 키보드가 올라오며 입력 필드에 포커스
        3. 텍스트 입력
    - **예외 흐름**
        - **글자 수 초과:** 글자가 입력되지 않음
- 3.메시지 전송
    - 기능 상세: 입력된 텍스트를 AI 엔진으로 전송하여 답변을 요청하는 전송 버튼 기능을 제공합니다.
    - **정책**
        - 입력 필드에 1자 이상의 텍스트(공백 제외)가 있을 때만 버튼 활성화
        - 전송 즉시 입력 필드 초기화 및 사용자 말풍선 표시
    - **정상 흐름**
        1. 텍스트 입력 후 활성화된 '전송(화살표)' 버튼 터치
        2. 입력창이 비워지고 대화창 하단에 사용자의 메시지 말풍선 추가
        3. AI 응답 대기 상태(인디케이터) 표시
    - **예외 흐름**
        - **네트워크 오류:** 전송 실패 시 해당 말풍선 옆에 '재전송' 아이콘 표시 및 “메시지 전송에 실패했습니다.” 메시지 출력
- 4.응답 수신 및 표시
    - 기능 상세: AI로부터 수신된 텍스트 답변을 말풍선 UI 형태로 채팅창에 순차적으로 표시하는 기능을 제공합니다.
    - **정책**
        - 스트리밍 방식(타자 치듯 나오는 효과) 또는 전체 로딩 후 표시 방식 중 선택 적용-**SSE:** 서비스 고도화 단계에서 **"타자 치는 효과"**를 내고 싶을 때 도입하세요.
        - 응답 수신 시 자동으로 스크롤을 최하단으로 이동
    - **정상 흐름**
        1. 서버로부터 AI 답변 데이터 수신 시작
        2. 페르소나 프로필 이미지와 함께 왼쪽 정렬된 말풍선 생성
        3. 텍스트 내용이 표시 완료됨
    - **예외 흐름**
        - **타임아웃/서버 오류:** “AI가 답변을 생성하지 못했습니다. 다시 질문해주세요.” 시스템 메시지 출력
- 5.추천 키워드 선택
    - 기능 상세: 현재 대화 맥락에 맞춰 사용자가 입력할 만한 추천 질문(예: 근처 맛집, 다음 장소 추천)을 버튼 형태로 제시하고, 터치 시 즉시 해당 내용으로 메시지를 전송하는 기능을 제공합니다.
    - **정책**
        - 최대 3~4개의 키워드 칩(Chip) 제공(최소,최대 개수??)
        - 터치 시 텍스트 입력 및 전송 과정과 동일하게 처리
    - **정상 흐름**
        1. AI 답변 말풍선 하단(또는 입력창 상단)에 추천 키워드 버튼 표시
        2. 사용자가 '맛집 추천해줘' 버튼 터치
        3. "맛집 추천해줘"라는 텍스트가 전송되고 답변 로딩 시작
    - **예외 흐름**
        - **추천 키워드 없음:** 표시할 키워드가 없는 경우 버튼 영역 숨김 처리
- 6.대화 기록 스크롤
    - 기능 상세: 채팅창 내부 영역을 스크롤하여 이전 대화 내용을 다시 확인할 수 있는 기능을 제공합니다.
    - **정책**
        - 페이징(Paging) 처리하여 스크롤이 상단에 닿으면 이전 대화를 추가로 로드
    - **정상 흐름**
        1. 채팅창 영역을 아래로 드래그(스크롤 다운)하여 이전 메시지 확인
        2. 스크롤을 최상단으로 올림
        3. 로딩 아이콘 표시 후 이전 날짜의 대화 내용이 추가됨
    - **예외 흐름**
        - **이전 기록 없음:** 더 이상 로드할 대화가 없으면 스크롤이 멈춤
        - **로드 실패:** “이전 대화를 불러오지 못했습니다.” 메시지 출력

## 5. 추천 경로

- 1.추천 관광지 자동 정보 생성 기능
    
    - 기능 상세: 사용자의 정보(MBTI기반)를 바탕으로 추천 관광지 목록을 제공
    - **정책**
        - 이미지
        - 정보
        
    - **정상 흐름**
        1. 채팅 또는 자동 생성을 통해 여행 코스 확정
        2. '추천 경로' 탭으로 이동
        3. 여행 코스와 음식점 탭 출력
    - **예외 흐름**
- 2.추천 음식점 자동 정보 생성 기능
    
    기능 상세: 사용자의 정보(사상의)를 바탕으로 추천 음식점 목록을 제공
    
- 3.근처 로컬 음식점 및 카페 이벤트 크롤링, 광고
    
    - 기능 상세: 추천된 여행 경로 상의 주요 지점 근처에 위치한 로컬 상점들의 이벤트 정보나 프로모션 내용을 크롤링하여 배너 등의 형태로 노출하는 기능을 제공합니다. 향후 광고 데이터를 받아와 수익을 창출 할 수 있습니다.
    - **정책**
        - 경로상의 경유지 반경 Xm,Xkm?? 이내 상점 정보만 노출
        - 음식점 탭에서만
    - **정상 흐름**
        1. 추천 경로 상세 화면 조회
        2. 특정 장소(예: 차이나타운) 카드 하단에 “주변 이벤트: 공갈빵 1+1” 배너 표시
        3. 배너 터치 시 해당 상점 정보 또는 쿠폰 페이지로 이동
    - **예외 흐름**
        - **크롤링 실패/데이터 없음:** 관련 배너 영역을 표시하지 않음
- 4. 추천 관광지 수정
    
    - 상세 설명: 사용자가 커스텀으로 관광지 목록을 수정,삭제,삽입 할 수 있는 기능
    - 정책
    - 정상흐름
    - 예외흐름
- 5.추천 음식점 수정
    
    - 상세 설명: 사용자가 커스텀으로 관광지 목록을 수정,삭제,삽입 할 수 있는 기능
    - 정책
    - 정상흐름
    - 예외흐름

## 6. 길찾기

- 1.출발지/목적지 입력
    - 기능 상세: 길찾기를 위한 출발 장소와 도착 장소를 텍스트 검색 또는 지도상의 위치 선택을 통해 입력받는 기능을 제공합니다.
    - **정책**
        - 출발지는 기본값으로 '현재 위치' 설정
        - 장소명 검색 시 검색 결과 리스트 제공
    - **정상 흐름**
        1. 목적지 입력 필드 터치
        2. “송도 센트럴파크” 검색 및 결과 선택
        3. 출발지와 목적지가 설정된 상태로 화면 표시
    - **예외 흐름**
        - **검색 결과 없음:** “검색 결과가 없습니다. 정확한 장소명을 입력해주세요.” 메시지 출력
- 2.출발지/목적지 Swap
    - 기능 상세: 버튼 터치 한 번으로 입력된 출발지와 목적지의 값을 서로 맞바꾸는 편의 기능을 제공합니다
    - **정책**
        - 출발지나 목적지 중 하나라도 값이 있어야 동작
    - **정상 흐름**
        1. 출발지: 현재 위치 / 목적지: 인천시청 상태에서 Swap 아이콘 터치
        2. 출발지: 인천시청 / 목적지: 현재 위치 로 값 변경
    - **예외 흐름**
        - **시스템 오류:** 교환 실패 시 기존 값 유지
- 3.경로 검색 요청
    - 기능 상세: 입력된 출발지와 목적지 정보를 바탕으로 외부 지도 API에 경로 데이터를 요청하는 버튼 기능을 제공합니다.
    - **정책**
        - 출발지와 목적지가 모두 입력되어야 버튼 활성화
        - 출발지와 목적지가 동일하면 검색 불가
    - **정상 흐름**
        1. 장소 설정 완료 후 ‘길찾기’ 버튼 터치
        2. 로딩 인디케이터 표시 후 경로 목록 화면으로 전환
    - **예외 흐름**
        - **동일 장소:** “출발지와 목적지가 같습니다.” 메시지 출력
        - **경로 없음:** “이동 경로를 찾을 수 없습니다. ” 메시지 출력
- 4.경로 목록 표시 및 상세 안내
    - 기능 상세: 검색된 이동 경로 리스트로 보여주고, 특정 경로 선택 시 턴 바이 턴(Turn-by-Turn) 상세 이동 정보를 텍스트로 제공합니다.
    - **정책**
        - 최단 시간, 최소 비용, 최적 경로 등 정렬 옵션 제공??
        - 대중교통, 승용차, 도보 등 이동 수단별 탭 구분 → 관광객이니까 대중교통만 제공??
    - **정상 흐름**
        1. 검색 결과 리스트에서 첫 번째 경로(최적) 선택
        2. 상세 경로 안내 화면으로 이동하여 “잠실역에서 2호선 탑승” 등의 단계별 정보 확인
    - **예외 흐름**
        - **API 오류:** “상세 정보를 불러오는 중 오류가 발생했습니다.” 메시지 출력
- 5.지도 위 경로 표시
    - 기능 상세: 선택된 이동 경로의 궤적(Polyline)을 지도 위에 선으로 그려 시각적으로 이동 동선을 보여주는 기능을 제공합니다.
    - **정책**
        - 경로선은 눈에 띄는 색상(파란색 등)으로 표시
    - **정상 흐름**
        1. 경로 목록에서 항목 선택
        2. 지도가 해당 경로 전체가 보이도록 줌 레벨 자동 조절
        3. 지도 위에 출발지부터 목적지까지 이어지는 선 표시
    - **예외 흐름**
        - **렌더링 실패:** 경로선이 표시되지 않을 경우 “경로를 지도에 표시할 수 없습니다.” 메시지 출력
- 6.최근에 검색한 길찾기 목록 표시
    - 기능 상세
    - 정책
    - 정상흐름
    - 예외흐름
- 7.최근 검색한 장소 목록 표시
    - 기능 상세
    - 정책
    - 정상흐름
    - 예외흐름

## 7. MyInfo

- 1.채팅 기록 확인
    - 기능 상세: AI 페르소나와 나눴던 과거의 모든 대화 세션을 목록 형태로 저장하고, 이를 다시 열람할 수 있는 기능을 제공합니다.
    - **정책**
        - 날짜별 또는 대화 주제별(요약)로 목록화??
        - 탭하면 해당 시점의 채팅 화면으로 이동(읽기 전용 모드 등)
    - **정상 흐름**
        1. MyInfo 탭에서 ‘채팅 기록’ 메뉴 터치
        2. 날짜별 대화 목록 표시
        3. 특정 날짜 터치 시 과거 대화 내용 상세 조회
    - **예외 흐름**
        - **기록 없음:** “저장된 대화 기록이 없습니다.” 화면 표시
- 2.찜한 장소 확인
    - 기능 상세: 지도나 추천 리스트에서 찜 기능을 통해 저장한 장소들을 모아서 목록으로 보여주고, 상세 정보로 이동할 수 있는 기능을 제공합니다.
    - **정책**
        - 최신순 정렬 기본
        - 목록에서 찜 해제 가능
    - **정상 흐름**
        1. MyInfo 탭에서 ‘찜한 장소’ 메뉴 터치
        2. 저장된 장소 썸네일과 이름 목록 표시
        3. 항목 터치 시 해당 장소의 지도 위치 또는 상세 정보로 이동
    - **예외 흐름**
        - **기록 없음:** “찜한 장소가 없습니다. 마음에 드는 곳을 저장해보세요!” 화면 표시
- 3.내 기프트 연동
    - 기능 상세: 외부 서비스인 내기프트 사이트와 연동하여 사용자가 보유한 기프트콘이나 쿠폰 정보를 확인하거나 해당 사이트로 이동하는 링크 기능을 제공합니다.
    - **정책**
        - 인앱 브라우저 또는 외부 브라우저로 링크 연결
        - 별도 로그인 필요 시 해당 사이트의 정책 따름
    - **정상 흐름**
        1. ‘내 기프트 확인하기’ 버튼 터치
        2. 내기프트 웹사이트로 이동
    - **예외 흐름**
        - **연결 실패:** “사이트에 연결할 수 없습니다.” 메시지 출력
- 4.내 정보 수정
    - 기능 상세: 프로필 수정 기능을 제공합니다
    - **정책**
        - 닉네임,생년월일,MBTI,사항의학만 수정?
        - 프로필 사진 수정
    - **정상 흐름**
        1. 프로필 수정 화면에서 원하는 정보 수정
        2. 수정 버튼 터치
        3. ‘수정이 완료되었습니다.’ 메시지 출력 후 화면 이동
    - **예외 흐름**
        - 수정 실패: ‘프로필 정보 수정에 실패했습니다.’ 메시지 출력 후 정보 수정 페이지를 보여줌

## 8. 그 외

- 1.키보드 활성화/비활성화
    - 기능 상세: 텍스트 입력 필드를 터치했을 때 가상 키보드를 화면에 띄우고, 입력 완료 버튼을 누르거나 입력 필드 외의 영역을 터치했을 때 키보드를 숨기는 기능을 제공합니다.
    - **정책**
        - OS(Android/iOS) 기본 키보드 동작 정책 준수
        - 키보드 활성화 시 입력창이 가려지지 않도록 화면 스크롤 조정
    - **정상 흐름**
        1. 입력 필드 터치 -> 키보드 올라옴
        2. 메시지 전송 후 또는 빈 공간 터치 -> 키보드 내려감
    - **예외 흐름**
        - (OS 시스템 동작이므로 별도 예외 흐름 없음)

## 미결정

1. AI 추천 코스 생성: 채팅or추천경로에서 사용자가 결정/최대,최소 경로 결정/수정,삭제,삽입 결정....
    1. 관광지만 추천 or 관광지,음식점 전부 추천
2. 페르소나 표정 변경
3. 능동적 추천: 브라우저가 포그라운드 일때만 사용 가능
    - 답변
        
        결론부터 말씀드리면, **웹(Web)으로도 구현이 가능하지만, '네이티브 앱(App)'에 비해 명확한 한계점(백그라운드 실행 불가)**이 존재합니다.
        
        사용자님이 구상하시는 **"선제적으로 대화를 시작하는 기능(능동적 추천)"**을 웹에서 구현할 때의 정확도와 현실적인 제약 사항을 정리해 드립니다.
        
        ---
        
        ### 1. 🎯 웹에서의 위치 정확도: "생각보다 꽤 정확합니다"
        
        스마트폰의 브라우저(Chrome, Safari)는 HTML5 `Geolocation API`를 통해 기기의 위치 센서에 접근합니다.
        
        - **실외 (GPS 사용 시):**
            - **정확도:** 오차 범위 **5m ~ 20m** 이내.
            - **판단:** 매우 정확합니다. 사용자가 "인천 차이나타운 입구"에 있는지, "특정 건물 앞"에 있는지 구분할 수 있는 수준입니다.
        - **실내 (Wi-Fi/기지국 사용 시):**
            - **정확도:** 오차 범위 **30m ~ 100m** 내외.
            - **판단:** GPS 신호가 닿지 않는 쇼핑몰 내부나 지하에서는 정확도가 떨어집니다. "이 건물 안에 있다" 정도는 알 수 있지만, "어떤 가게 앞에 있다"를 알기는 어렵습니다.
        - **노트북/PC (IP 주소 기반):**
            - **정확도:** 수 km 오차 (동/구 단위).
            - **판단:** 여행 중 이동 경로 추천용으로는 부적합합니다. (모바일 사용을 전제로 해야 합니다.)
        
        👉 **결론:** 사용자가 **스마트폰**으로 **실외**를 돌아다니는 여행 상황이라면, **웹으로도 충분히 특정 장소 근처임을 인식하고 추천할 수 있습니다.**
        
        ---
        
        ### 2. 🚧 웹 환경의 결정적 한계: "화면이 꺼지면 AI도 잠듭니다"
        
        이 부분이 캡스톤 프로젝트 설계에서 가장 중요하게 고려해야 할 점입니다.
        
        - **네이티브 앱 (Native App):** 카카오맵이나 나이키 런클럽처럼, **화면을 끄고 주머니에 넣어도(백그라운드)** GPS를 계속 추적할 수 있습니다. -> _"사용자가 폰을 안 봐도 진동이 오고 알림이 뜸"_
        - **모바일 웹 (Mobile Web):** **브라우저 화면이 켜져 있을 때만(포그라운드)** 위치를 추적할 수 있습니다. 화면을 끄거나 다른 앱으로 전환하면, 브라우저는 배터리 절약을 위해 위치 추적과 스크립트 실행을 **중단**시킵니다.
        
        ### 🚨 시나리오별 가능 여부
        
        1. **불가능:** 사용자가 폰을 주머니에 넣고 걷는데, 갑자기 폰이 울리면서 *"근처에 맛집이 있어요!"*라고 푸시 알림을 보내는 것. (웹에서는 iOS/Android 모두 제약이 심해 사실상 구현 불가)
        2. **가능:** 사용자가 지도를 보려고 **폰을 켜서 웹사이트를 보고 있는 도중**, *"어? 지금 차이나타운 입구시네요! 여기 만두가 유명한데 알려드릴까요?"*라고 AI가 말을 거는 것.
        
        ---
        
        ### 3. 💡 캡스톤 프로젝트를 위한 현실적 구현 전략
        
        웹의 한계를 인정하면서도 "선제적 추천" 기능을 매력적으로 구현하려면 다음과 같은 로직을 추천합니다.
        
        ### 전략 A. "사용자가 폰을 켰을 때를 노린다" (현실적 대안)
        
        완전한 백그라운드 알림을 포기하고, 사용자가 앱(웹)을 **활성화하는 순간**을 트리거로 잡습니다.
        
        1. 사용자가 이동하다가 폰을 켜서 브라우저에 접속합니다.
        2. 웹사이트가 로딩되자마자 `navigator.geolocation.getCurrentPosition`을 호출합니다.
        3. 현재 좌표가 DB에 있는 '추천 장소(Geo-fence)' 반경 50m 안에 들어오는지 확인합니다.
        4. 들어왔다면, 즉시 AI 페르소나(가자곰)가 오버레이로 튀어나와 말을 겁니다.
            - _"헉, 여기 냄새 맡았어? 근처에 엄청 유명한 빵집 있는데!"_
        
        ### 전략 B. `watchPosition` 활용 (화면 켜고 이동 시)
        
        사용자가 지도를 켜놓고(화면 켜짐 유지) 걸어가는 상황을 가정합니다.
        
        1. `navigator.geolocation.watchPosition` 함수를 씁니다. (위치가 변할 때마다 계속 호출됨)
        2. 사용자가 걷다가 특정 좌표에 도달하는 순간, AI가 대화를 시작합니다.
        3. **주의:** 배터리 소모가 큽니다.
        
        ---
        
        ### 📝 요약 및 제안
        
        4. **정확도:** 모바일 웹에서도 실외 기준 **5~20m**로 매우 정확하니 걱정 안 하셔도 됩니다.
        5. **제약:** **"폰이 꺼져 있을 때 먼저 알림을 보내는 것"**은 웹 기술(PWA 포함)만으로는 아이폰(iOS) 등에서 구현이 매우 어렵습니다.
        6. **해결책:** 기획을 **"사용자가 앱을 켜서 지도를 보는 순간, AI가 내 위치를 기가 막히게 알고 먼저 말을 거는 경험"**으로 정의하시면 기술적 난이도와 사용자 경험을 모두 잡을 수 있습니다.
        
        **[기술 팁]**
        
        - 반드시 **HTTPS** 환경이어야 위치 정보를 가져올 수 있습니다. (앞서 구성한 Nginx + Let's Encrypt가 필수인 이유입니다.)
        - React에서 `react-geolocated` 같은 라이브러리를 쓰면 구현이 훨씬 쉽습니다.
4. 튜토리얼