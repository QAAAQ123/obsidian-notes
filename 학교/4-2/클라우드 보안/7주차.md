30. 가상화 보안 개요
	1. 하이퍼바이져 공격
		1. VM Escape
		2. VM Sprawl
		3. Hyper jacking
	2. VM 이미지 공격
	3. VM 공격
		1. Cross-VM side channel attacks
	4. 가상화가 생기면서 생긴 보안 문제와 가상화 이전에 원래부터 있던 보안 문제가 있다
	5. 노란색이 VM이 생기고 나서 발생한 보안 문제
31. 하이버바이져 공격들
	1. VM Escape: 해커가 VM안에서 돌아가는 거를 해킹하여 가상머신에서 탈출 시켜 하이퍼바이져나 물리 HW를 공격하는 것 
	2. Hyper Jacking: 하이퍼바이져 권한을 악의적으로 뺐음
	3. VM Sprawl: 순간적으로 VM 개수를 늘리는 것
	4. VM Footprint: 유저가 사용하는 VM의 정보를 염탐
32. 하이퍼바이져 공격들2(공격 카테고리)
	1. inside vm attack: VM안을 공격-대부분 이방식으로 공격이 이루어짐
	2. outside vm attack:VM 밖의 하이퍼바이져나 하드웨어를 공격-1보다 더 치명적임
33. 하이퍼바이져 공격들3
	1. VM간의 부채널 공격: 특정 VM이 악성 VM일때 공유 HW와 캐시에 접근해서 타겟을 공격(부가적인 채널로 들어와서 주 채널을 공격)
	2. Outdataed SW Packages in VMs: 더이상 지원하지 않는 소프트웨어나 보안 취약점이 있는 것들을 통해서 하는 공격/이 공격을 막기 위해서는 주기적인 update관리를 해줘야 한다
34. 가상화 공격 벡터(지점)들 그림
	1. VM하나가 공격당하면 공격이 퍼질 위험이 있어서 VM보안이 중요하다
35. VM Escape
	1. **특정 취약점을 타고 격리 자체(아이솔레이션)를 탈출하는 것**
	2. 탈출하면 하이퍼바이져를 통하는 게 아니라 HW를 직접 타격 할 수 있다.
36. VM Escape
37. VM Esacpe 단계: **~={red}초기 정찰 -> 취약점 조사 -> 개발 -> 권한 상승 -> 공격=~**
	- **~={red}게스트 OS의 App부터 공격=~**이 시작한다고 가정
	1. 초기 정찰
		1. 게스트 OS위에서 돌고 있는게 맞는가
		2. 하이퍼바이져 유형과 버전
		3. 호스트와의 통신 채널 탐색
	2. 취약점 조사
		1. 오픈소스면 소스 파악해서 찾고 private source이면 리버싱 이용해서 취약점 파악
	3. Exploit개발
		1. 취약점을 터트릴 수 있는 Exploit 개발
		2. 폭발하는것 개발
		3. 하이퍼바이져 보안에 대한 우회도 생각해야함
38. VM Esacpe 단계2
	4. 권한 상승
		1. VM안에서 권한 상승
	5. Post-폭팔
		1. 실제 공격
39. VM Escape 이슈
	1. 다른 VM에대한 접근(수평 이동)
	2. 데이터 침해및 손실 
40. VM Escape 이슈2
	1. 서비스 중단
	2. 규정 위반과 신뢰도 하락-서비스 제공자를 못 믿게 되어서 사용자가 이탈할 수 있음
41. VM Escape 보안 위험
	1. 다중 VM 거주자간 완전한 격리 실해
	2. 권한 상승을 통해서 Host 권한으로 모든 걸 할 수 있게 됨
	3. 지속적 공격: 특정 해킹 프로그램을 설치해서 지속적으로 공격
42. VM Escape 보안 위험2
	1. VM 탈취하면 체인처럼 다른 VM도 공격이 순차적으로 이루어질 수 있음
	2. 다양한 것 할 수 있음, 증거나 로그 조작 등
43. VM Esacpe 관련 CVE 예시
	1. CVE: 취약점 고유 ID
	2. CVE-발견년도-ID
	3. 1. VENOM-QEMU의 버퍼 오버플로 취약저점으로 인한 VM 탈출
	4. 2. 스택 메모리와 연관된 취약점을 통해 VM 탈출 
44. VM Esacpe 관련 CVE 예시2
	1. Integer 언더플로
	2. QEMU와 버츄얼 박스
45. 예시3
	1. Linux KVM AMD 프로세스 안에 취약점으로 인해 VM 탈출이 가능 했음-최종저긍로 하이퍼바이져 탈취
46. VM Escape 방지
	1. 하이퍼바이져 보안 강화
		1. 사용하지 않는 기능 비활성화
		2. 하이퍼바이져 세부 보안 설정
	2. VM 세팅
		1. 사용하지 않는 HW 배제
		2. 최소권한 원칙 구현-ZT와 연관
		3. 가상네트워크 구성시 보수적으로
47. VM Escape 방지2
	1. 네트워크 분할
		1. VM간 세분해서 네트워크 설정
	2. 역할 기반 접근 제어
		1. 최소권한 원칙으로 
		2. 다단계 인증
48. VM Escaepe 좋은 사례
	1. 자동화된 패치 관리 시스템 구축
	2. 심층 방어 전략: 다층 보안 제어를 만들어야 한다
		1. EDR 시스템
	3. 모니터링과 탐지
		1. 빠르게 탐지하는게 좋다
		2. 방어는 너무 오버헤드가 크다
49. VM 탈출 좋은 사례2
	1. 사고 대응 계획을 해야함
		1. 어떤 상황이 발행 했을시 뭐를 할지
	2. 보안 아키텍쳐 디자인
		1. ZT
		2. 하드웨어 자체에서 고급 보안 지원하는 장비 쓰는 것
50. Hyper Jacking
	1. 공격자가 기본 **~={red}Host 운영체제를 공격해서 하이퍼바이져의 권한=~**을 획득하고 이를 통해서 가상화 전체 환경을 공격
	2. 외부 PC가 하이퍼바이져를 공격,VM 탈출은 게스트 OS에 App에 공격자가 있는 것
51. Hyper javking 2
	1. 공격 경로: 외부 -> Host Os -> 하이퍼바이져 -> 모든 VMs
	2. 주로 type2(Host os가 있는 형태)를 대상으로 하고 있음-호스트의 약점을 악용해서
52.  Hyper jacking 과정
	1. Host OS 정찰 및 접근
	2. Host OS 권한 상승
53. 과정2
	1. 하이퍼바이져 검색 및 분석
	2. 하이퍼바이져 컨트롤
54. 과정3
	1. VM 환경을 조작 할 수 있음
	2. 일반적인 OS의 루트권한 탈취와 비슷함
55. 탈출과 재킹 비교
	1. 내부|외부
	2. 타입2|타입1,2
	3. Host os의 취약점|VM의 취약점
	4. 탐지 쉬움|탐지 어려움
	5. 모든 VM|특정 VM + 호스트 접근
	6. 등...
56. Hyper jacking 이슈
	1. 인프라 스트럭처 통제
	2. 다중 VM 동시 침해
57. 이슈2
	1. 하이퍼바이져에서 악성활동을 은폐,조작하기 쉬움
	2. 서비스 중단
		1. 하드웨어 리소스 모두 사용
58. 이슈3
	1. 완벽한 탈출
	2. 데이터 유출 및 스파이 활동
	3. APT 공격
		1. 은밀하고 안걸릴 정도로 지속적으로
59. 이슈4
	1. 규정 무시
	2. 등....
	3. 공급망 및 신뢰 하락
60. Hyper Jacking CVE
	1. **~={red}Log4j 취약점=~**
	2. VMware 취약점
61. CVE2
	1. VPN관련 취약점
62. CVE3
	1. 스팩터
63. Hyper Jacking 막는 방법
	1. Host 운영체제 강화
	2. 하이퍼바이져 접근 제어 및 세분화
64. 방법2
	1. 모니터링과 위협 탐지
		1. SIEM 대표적인 관리 시스템
	2. 인프라스트럭쳐 디자인과 아키텍쳐
		1. 심층 방어 아키텍쳐 구현해라
65. 모범 사례
	1. 정기적인 보안 평가
	2. 고급 위협 탐지 및 대응
66. 모범 사례2
	1. 복구 및 대응 방안 계획
67. VM Sprawl
	1. 가상 머신 수 급격기 증가
	2. 관리의 문제나 공격 일 가능성 둘다 있음
	3. 리소스 낭비가 주 목적
68. VM Sprawl
	1. 목표
		1. 적절한 감독없이 낭비 유발
		2. 비효율성 증가시킴
	2. 내용
		1. 개발 환경에서 흔하게 발생
		2. 예시: 버전별로 VM 여러개 만들어 놓고 안지움
69. Escape와 비교
	1. ㄷ
70. **VM Sprawl**(스퍼럴)
	1. 리소스낭비,성능 하락
	2. 관리 및 운영상의 어려움
	3. 비용 문제
71. 보안 리스크
	1. 접근 제어 및 인증 위험
	2. 패치 관리 및 취약점 노출
		1. 패치 안하면 취약점 그대로 있음
	3. 모니터링과 발견 반응이 어려움
		1. VM이 수천개를 넘어가면 반응도 어려움
72. 어떻게 막음?
	1. ~={red}**모니터링이 중요**=~ -> 시험
		1. 정량적인 것을 넘어서면 
		2. VM이 일반적인 범위를 넘어가면 알림
	2. VM 라이프사이클 관리
		1. 끝났는데 해제하지 않으면 방치되면서 낭비
73. 최고 예시
	1. 잘 관리
	2. 패치 잘 해라
74. 최고 예시2
	1. **모니터링 중요**
75. Cross-VM side Channel Attacks: 부채널 공격
	1. 가상머신간의 공유 리소스를 악용해서 **다른 VM의 데이터 얻음**
	2. **~={red}passive(수동적)공격=~**: 침투하는게 아니라 염탐해서 데이터를 얻음 
76. 부채널 공격의 목표
	1. 중요 데이터 추출(염탐 해서)
	2. ~={red}간접적인 정보 유출=~
	3. ~={red}은밀하게 공격=~
	4. 내용
		1. 물리적으로 하드웨어를 공유하기 때문에 공유되는 지점을 염탐해서 상대방의 정보를 캐냄
		2. 기존 모니터링으로 확인 할 수 없다.-> 실질적으로 공격을 하지 않기 때문에
		3. 탐지 어려움
77. 이슈
	1. ~={red}데이터 기밀성 침해=~
		1. 사용자 정보 유출
		2. 격리 보장 위반
	2. 은밀성 및 탐지해야하는 과제
		1. 수동적이기 때문에 탐지하기 어렵다
	3. 믿는 모델(클라우드 제공자 신뢰 하락)
		1. 다른 VM
78. 공격 기술 및 방법
	1. 캐시 기반 부채널 공격
		1. CPU 캐시를 공유할 때 
	2. 메모리와 네트워크 기반 공격
		1. 네트워크 스위치를 이용한 공격
	3. 리소스 분석
		1. CPU 스케쥴링 등..
		2. 모든 흐름을 통해서 접근해서 유출(전력 사용량 까지도 분석해서 공격)
79. 어떻게 막음
	1. ~={red}격리와 파티셔닝=~
		1. 추론 불가능하게 격리 수준 높힘
		2. 랜덤성과 노이즈 주입을 통해 방어
			1. 랜덤하게 하거나 노이즈를 추가하여 추론을 어렵게 만듦
	2. 클라우드 설계를 잘해야함
	3. 암호화
		1. 성능 하락이 있을 수 있으나 데이터 유출보다 나음
80. 최고 예시
	1. 하드웨어 기반 ~={red}격리=~
	2. 모니터링 및 탐지
81. VM Migration
	1. 물리적인 호스트에서 다른 물리적 호트스로 이동하는 과정 중에 발생
	2. live 마이그레이션: 실행중일 떄 옮김
	3. cold 마이그레이션: 멈춰있을 때 옮김
82. 목표
	1. 원할한 워크로드 재 분배
	2. 재해복구 및 비즈니스 연속성
83. VM 마이그레이션 공격 표면
	1. VM Migration: 물리 머신이나 다른 VM에서 VM으로 옮기는 과정
	2. ~={red}마이그레이션 중에 공격을 당할 수 있다=~
	3. 제어 공격,데이터 영역 공격,마이그레이션을 해주는 모듈 자체로 공격
84. 공격
	1. 마이그레이션 hijacking 공격
		1. 마이그레이션 중에 VM을 가로챔->악성 호스트로 보냄
		2. 마이그레이션 도청 공격
			1. 패시브 공격
			2. 마이그레이션 도중 염탐(정보 캐내는)
85. 공격2
	1. 마이그레이션 무단 중단 공격
	2. 마이크레이션 서비스 거부 공격
86. 보안 카운터메져(대책)
	1. 암호화 및 데이터 보호
	2. 엑세스 제어 및 인증
87. 대책2
	1. 네트워크 보안 및 고립
	2. 모니터링
88. 최고 사례
	1. 읽어보기