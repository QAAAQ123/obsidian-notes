## 컨텍스트
- 스프링 컨텍스트(애플리케이션 컨텍스트): 프레임워크가 관리하는 모든 객체 인스턴스를 추가하는 앱의 메모리 공간

### 배울 것
스프링 컨텍스트에서 빈을 추가하는 방법

## ~={red}스프링 컨텍스트에 새로운 빈 추가=~

### ~={red}1.@Bean 어노테이션=~
#### 기본 사용법
1. 구성 클래스 정의(@Configuration 어노테이션)
```java
@Configuation
pubilc class ProjectConfig{
	@Bean
	Apple apple() {
	var a = new Apple();
	a.setName("first apple");
	return a;
	}

	@Bean
	String hello() {
		return "Hello";
	}

	@Bean
	Integer ten(){
		return 10;
	}
}
```
2. 스프링 애플리케이션에서 '구성 클래스' 사용
```java
public class Main{
	public static void main(String[] args){
		var context = 
			new AnnotationConfigApplicationContext(ProjectConfig.class);
			
		Apple a = context.getBean(Apple.class);
		String hi = context.getBean(String.class);
		Integer ten = context.getBean(Integer.class);

		Sytem.out.println(a.getName());
		Sytem.out.println(hi);
		Sytem.out.println(ten);
	}
}
```

#### 동일한 타입의 Bean을 여러개 등록해 두었을때
Apple타입 인스턴스 여러개를 @Bean으로 등록해 두었을때 애플리케이션이 인스턴스를 찾는 방법
ex) apple1,apple2,apple3
1. @Bean(name="xxx")로 이름 부여 -> context.getBean("xxx",Apple.class)
2. @Primary로 기본 빈 만들기 -> 이름 지정 안해도 context.getBean(Apple.class)하면 자동으로 @Primary가 붙은 인스턴스 가져옴


### ~={red}2.스테레오타입 어노테이션=~
#### 기본 사용법
1. @Component 어노테이션으로 컨텍스에 객체 인스턴스 추가함을 표시
```java
package xxx.xxx.main;
@Component
@Getter
@Setter
public class Apple{
	private String name;
}

```
2. '구성 클래스'에 @ComponentScan 어노테이션으로 컴포넌트를 어디에서 찾을 수 있는지 스프링에 알려줌
```java
@Configuration
@ComponentScan(basePackages="main")
public class ProjectConfig{
	//이미 @Component에서 컨텍스트에 들어갈 객체 인스턴스를 만들어서 아무것도 작성하지 않아도 됨
	//@ComponentScan이 알아서 찾아줌
}
```




### 3.프로그래밍 방식 
위 두 방법으로 컨텍스트에 추가 할 수 없다면 registerBean() 메소드를 사용해 넣으면 됨(**스프링5 이상에서만 사용 가능**)
- <`T`> void registerBean(beanName,beanClass,supplier,beanCustomizers)
- supplier는 java.util.function

### 4. @Bean 어노테이션과 스테레오타입 어노테이션 비교
|@Bean 어노테이션 사용|스테레오 타입 어노테이션 사용|
|------|------|
|1.스프링 컨텍스트에 추가할 인스턴스의 생성을 완전히 제어,스프링은 해당 인스턴스만 받아 컨텍스트에 그대로 추가|1.프레임워크가 인스턴스를 생성한 후에만 인스턴스를 제어 가능|
|2.동일한 타입의 인스턴스를 여러개 만들 수 있음|2.컨텍스트에 클래스 하나당 인스턴스 하나만 추가 가능|
|3.앱 내에 클래스가 정의되어있지 않아도 추가 가능|3.앱 내에 클래스가 있어야만 추가 가능|
|4.메소드마다 상용구가 추가됨|4.컨텍스트에 빈을 추가해도 앱에 상용구가 추가 되지 않음|

## 요약
1. 스프링에서 가장 먼저 배워야 할 것은 스프링 컨텍스트에 객체 인스턴스(빈)을 추가하는 방법이다.
2. 스프링 컨텍스트(애플리케이션 컨텍스트): 프레임워크가 관리하는 모든 객체 인스턴스를 추가하는 앱의 메모리 공간
3. **★★★★★컨텍스트에 빈을 추가하는 방법은 세가지이다★★★★★**
	1. @Bean 어노테이션
	2. 스테레오타입 어노테이션(@Component)
	3. 프로그래밍 방식(registerBean(args...))



