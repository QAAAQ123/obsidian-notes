## 스프링 데이터란? 
- 영속성 기술을 단순화하는 상위 계층으로, 다양한 **영속성 기술(JDBC,MongoDB 등)을 동일하게 추상화** 시킨다. 
- 스프링 데이터를 사용하면 하나의 코드로 모든 영속성 기술과 호환이 가능하다.
- ~={red}**Spring Core의 추상화 기술을 적극적으로 사용한다.**=~
- 다양한 기술을 동일한 추상화에 통합하여 영속성을 구현한다.
스프링 앱 로직--스프링 데이터--영속성 기술--DB 

#### 하이버네이트
하이버네이트: JDBC에 의존하는 ORM 영속성 프레임워크로, 영속성 데이터로 작업하는 측면을 간소화함

## 스프링 데이터 작동 방식
공통된 인터페이스 집합을 제공하는 방식으로 작동
![[SpringData인터페이스구조.jpg]]

스프링 데이터가 확장하는 구조로 만들어진 이유
- 모든 연산이 포함된 하나의 계약(인터페이스)로 만들기 보다, 확장 가능한 연산을 여러개 만들어서 앱에 필요한 연산만 사용하게 만듦
- 이런식으로 필요한 연산만 구현하게 여러개의 인터페이스를 만드는 것을 **~={red}인터페이스 분리=~**라고 한다.
- 단순 CURD만 필요하면 CurdRepository를 구현하면 되고,정렬및 페이징 기능도 필요하다면 PagingAndSortingRepository를 구현하면 된다.이런식으로 인터페이스 분리를 사용한다.

## 스프링 데이터 JDBC(JPA) 명명 규칙의 단점
JPA는 JpaRepository에 메소드를 명명하면 자동으로 쿼리를 만들어 영속성을 구현하는 기능이 있다. 하지만 이 기능이 항상 좋은 것은 아니다
1. 연산 작업에 복잡한 쿼리가 필요할 때는 메서드 이름이 너무 길어져 읽기 어려울 수 있다.
2. 개발자가 메서드 이름을 리팩터링하면서 자신도 모르게 앱 동작에 영향을 줄 수 있다.
3. 스프링 데이터의 명명 규칙을 학습하는것이 크게 도움이 되지 않는다. ????
4. ~={red}스프링 데이터도 메서드 이름을 쿼리로 변환해야 하기 때문에 앱 초기화가 느려서 성능에 영향을 미친다.(앱이 부팅될 때 메서드 이름을 쿼리로 변환한다.)=~

이런 문제를 피하는 가장 간단한 방법은 `@Query`를 사용하는 것이다.
- `@Query`를 사용하여 메서드를 만들게 되면 성능 향상 된다.
- **~={red}`@Query`는 SELECT문만 사용할 수 있다=~**
- **~={red}수정,삽입,삭제와 같은 데이터 변경 연산을 할때는 `@Query`위에 `@Modifying`어노테이션을 붙혀야 한다.=~**