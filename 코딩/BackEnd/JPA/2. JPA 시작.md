- persistence.xml에서 JPA 설정들을 관리한다.
- META-INF/persistence.xml 클래스 패스 경로에 있으면 별도의 설정 없이 JPA가 인식한다
- 대표적 속성
    - javax.persistence.jdbc.driver: JDBC 드라이버
    - javax.persistence.jdbc.user: 데이터베이스 접속 아이디
    - javax.persistence.jdbc.password: 데이터베이스 접속 비밀번호
    - javax.persistence.jdbc.url: 데이터베이스 접속 url
    - hibernate.dialect: 데이터베이스 방언 설정

#### 엔티티 매니저 설정

1. **엔티티 매니저 팩토리 생성** 2. JPA를 시작하려면 persistence.xml의 **설정 정보를 사용해서 엔티티 매니저 팩토리를 생성**해야 한다. 이때 Persistence 클래스를 사용하는데 이 클래스는 ★★엔티티 매니저 팩토리를 생성★★해서 JPA를 사용할 수 있게 준비한다. 3. EntityManagerFactory emf = Persistence.createEntityManagerFactory("xxx"); 이렇게 하면 META-INF/persistence.xml에서 이름이 xxx인 영속성 유닛을 찾아서 엔티티 매니저 팩토리를 생성한다. 4. 엔티티 매니저 팩토리를 생성하는 비용이 매우 크기 때문에, 애플리케이션 전체에서 딱 한 번만 생성하고 공유해서 사용해야 한다.
2. **엔티티 매니저 생성** 6. ★★엔티티 매니저 팩토리에서 엔티티 매니저를 생성★★한다(JPA의 대부분의 기능 제공) 7. EntityManager em = emf.createEntityManager(); 8. 대표적으로 CRUD를 할 수 있다 9. 엔티티 매니저는 내부에서 데이터소스를 유지하면서 데이터베이스와 통신한다 10. 엔티티 매니저는 스레드 간에 공유하거나 재사용하면 안 된다.
3. 종료 12. 사용이 끝난 엔티티 매니저 반드시 종료(em.close();) 13. 애플리케이션 종료 시 엔티티 매니저 팩토리도 종료(emf.close();)

#### JPQL(Java Persistence Query Language)

- JPA를 사용하면 개발자는 엔티티 중심으로 개발하고 DB 처리는 JPA에 맡겨야 한다. 그런데 엔티티 객체를 대상으로 검색하려면 검색 조건이 포함된 SQL을 사용해야 한다. JPA는 **JPQL(쿼리 언어)로 엔티티와 데이터 사이의 간극을 해결**한다.
- **JPQL은 SQL을 추상화한 "★★객체지향 쿼리 언어★★"이다**
- JPQL의 특징: 엔티티 객체를 대상으로 쿼리한다.(클래스와 필드를 대상으로 쿼리한다), JPQL은 데이터베이스 테이블을 전혀 알지 못한다