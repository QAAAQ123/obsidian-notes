## 동작 위치
- DispatcherServlet이전
- Was의 `HttpServletRequest`생성 이후

## 동작 방식
- doFilter로 고정된 순서의 필터들을 넘어가면서 동작한다


## 핵심 필터 실행 순서
1. ChannelProcessingFilter
	- `http` vs `https` 등 프로토콜을 강제할 때 사용됩니다 (잘 안 씀).
2. **`SecurityContextHolderFilter`**
	- **[매우 중요]** 요청이 들어오면 `SecurityContext`(인증 저장소)를 생성하거나 비워둡니다. 모든 인증의 시작점입니다.
3. CorsFilter
	- CORS(도메인 간 요청 허용) 설정을 처리합니다. 여기서 막히면 아예 서버로 못 들어옵니다.
4. CsrfFilter
	- CSRF 공격 방어. (JWT 사용 시 보통 `disable`)
5. LogoutFilter
	- `/logout` 요청이 오면 세션을 끄고 리다이렉트 시킵니다.
6. OAuth2AuthorizationRequestRedirectFilter
	- `/oauth2/authorization/{소셜}` 요청을 감지해 카카오/구글 로그인 창으로 보냅니다.
7. OAuth2LoginAuthenticationFilter
	- 소셜 로그인 완료 후 돌아오는 URL을 가로채서 토큰을 발급받습니다.
8. **`UsernamePasswordAuthenticationFilter`**
	- 일반적인 `formLogin` 처리
9. DefaultLoginPageGeneratingFilter
	- 로그인 페이지가 없으면 기본 페이지를 만들어주는 녀석.
10. SecurityContextHolderAwareRequestFilter
	- `HttpServletRequest`를 래핑해서 `request.getUserPrincipal()` 같은 편의 메서드를 지원하게 해줍니다.
11. AnonymousAuthenticationFilter
	- **[중요]** 여기까지 왔는데도 인증 정보(JWT 등)가 없으면 **"이 사람은 '익명(Anonymous)'이다"**라고 딱지를 붙입니다.
12. SessionManagementFilter
	- 세션 고정 보호, 동시 접속 제어 등을 수행합니다.
13. ExceptionTranslationFilter
	- **[핵심]** 바로 뒤에 있는 `AuthorizationFilter`에서 에러(401/403)가 나면 그걸 잡아서 처리합니다. (작성하신 `EntryPoint`가 여기서 호출됨)
14. **`AuthorizationFilter`**
	- **[최종 보스]** 설정된 권한(`permitAll`, `authenticated` 등)과 현재 유저의 상태(익명/인증)를 비교해서 **통과시킬지 말지 결정**합니다.