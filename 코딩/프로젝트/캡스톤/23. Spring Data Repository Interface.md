#JpaRepository #MongoRepository
## Spring Data Repository Interface란?
- `JpaRepository`나 `MongoRepository`와 같이 **개발자가 구현체 없이 인터페이스만 정의하면 동작**하는 개념
- 이 인터페이스는 Spring Data Common 프로젝트에서 정의한 상위 인터페이스를 상속 받아 계층 구조를 이룸

## 포함 관계
1. Repository<T,ID>
	1. 최상위 
	2. 아무런 메서드가 없는 마커 인터페이스
	3. 이 인터페이스를 상속 받으면 Bean으로 등록하고 구현체를 생성
2. CrudRepository<T,ID>
	1. 기본적인 CURD 기능 제공
	2. save,findById,esistsById,count,deleteById 등 
3. PagingAndSortingRepository<T,ID>
	1. 페이징과 정렬 기능 추가 제공
	2. findAll(Sort sort),findAll(Pageable pageable)
4. ListCrudRepository,ListPagingAndSortingRepository(Spring Data 3.x)
	1. 최신 버전에서는 반환 타입이 `Iterable`이 아닌 `List`인 인터페이스가 중간에 추가되었습니다.
5. JpaRepository 또는 MongoRepository
	1. 최하위 구현 기술
	2. 위의 모든 기능을 상속 받으며,각 DB에 특화된 기능을 추가로 포함

## MongoRepository<T,ID>
- `PagingAndSortingRepository` + `QueryByExampleExecutor`를 상속받으며 MongoDB 특화 기능
	- **Insert 기능:** `insert()` (save와 달리 ID가 있으면 에러 발생, 명시적 삽입)
    - **List 반환:** `findAll()`이 `Iterable`이 아닌 `List<T>`를 반환하여 사용하기 편합니다.
    - **GeoSpatial:** 위치 기반 쿼리를 위한 지원이 내부적으로 포함됩니다.

## JpaRepository<T,ID>
- `PagingAndSortingRepository` + `QueryByExampleExecutor`를 상속받으며 RDB(JPA) 특화 기능
	- - **Batch 삭제:** `deleteAllInBatch()`, `deleteInBatch()` (엔티티를 하나씩 지우지 않고 단일 쿼리로 삭제)
    - **Flush:** `flush()`, `saveAndFlush()` (영속성 컨텍스트의 변경 내용을 즉시 DB에 반영)
    - **JPA 연관관계:** `getOne()` (Lazy Loading을 위한 프록시 조회, 현재는 `getReferenceById`로 변경됨)